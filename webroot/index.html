<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Draugnet - Index</title>

  <!-- CSS: bootstrap first, then fontawesome, then your overrides -->
  <link href="css/bootstrap.min.css"       rel="stylesheet" />
  <link href="css/fontawesome.all.min.css" rel="stylesheet" />
  <link href="css/style.css"               rel="stylesheet" />

  <!-- Core UI Scripts -->
  <script src="js/visualizer.js"   defer></script>
  <script src="js/main.js"         defer></script>
  <script src="js/tokenstore.js"   defer></script>
  <script src="js/menu.js"         defer></script>
</head>
<body data-page="index">
  <div class="container-fluid">
    <div class="row">
      <!-- Main content column -->
      <div class="col-lg-8 col-md-7 col-sm-12">
        <!-- Shared menu placeholder -->
        <div id="menu-container"></div>
        <div id="app" class="p-3">
          <div class="card card-dark mb-3 text-center mx-auto" style="max-width: 50%;">
            <div class="card-header">Draugnet</div>
            <img class="card-img-top" id="index-draugnet-image" data-dark-src="img/logo_horizontal_thin_dark.png" data-light-src="img/logo_horizontal_thin_light.png" src="img/logo_horizontal_thin_dark.png"></img>
            <div class="card-body">
                Visit the <a href="https://github.com/draugnet/draugnet" target="_blank">draugnet</a> or the <a href="https://github.com/draugnet/draugnetUI" target="_blank">draugnetUI</a> project's github pages.
            </div>
          </div>
          <div class="card card-dark mb-3 text-center mx-auto" style="max-width: 50%;">
            <div class="card-header">
              How it works
            </div>
            <div class="card-body">
              Draugnet is a simple API tool that connects to a <a href="https://misp-project.org">MISP community</a> and allows users to submit reports in various formats that will be conveyed to MISP. It will generate a token for each submission that users can use to retrieve their report along with any updates / comments / new data that the community has added.
            </div>
          </div>
          <div class="card card-dark mb-3 text-center mx-auto" style="max-width: 50%;"">
            <div class="card-header">
              Why?
            </div>
            <div class="card-body">
              It's an easy way to report to a CSIRT, a central authority of a sharing community or a partner that you wish to share with - without first negotiating access. It also allows the submitter to keep up to date with changes made to the report and can act as a lightweight collaboration tool.
            </div>
          </div>
          <div class="card card-dark mb-3 text-center mx-auto" style="max-width: 50%;"">
            <div class="card-header">
              How to use it?
            </div>
            <div class="card-body">
              You can report via MISP JSON, via a MISP object, or via free text. You can also view existing reports that you have submitted.
            </div>
          </div>
          <div class="card card-dark mb-3 text-center mx-auto" style="max-width: 50%;"">
            <div class="card-header">
              Anonymity
            </div>
            <div class="card-body">
              In fact, Draugnet supports fully anonymous submissions of data this way. Draugnet only keeps the link between the MISP event UUID generated from the reporting and the token handed back to the user.
            </div>
          </div>
          <div class="card card-dark mb-3 text-center mx-auto" style="max-width: 50%;"">
            <div class="card-header">
              API
            </div>
            <div class="card-body">
              <div class="container-fluid">
                <p>Draugnet's UI is relying on a FastAPI based back-end to interact with the MISP community behind it. You can directly access this back-end via <span id="api-link"></span></p>
                <p><b>OpenAPI spec</b></p>
                <p>simply use a browser and navigate to the <span id="api-docs-link"></span> and you will get a list of all supported endpoints.</p>
                <p><b>Supported submission formats</b></p>
                <p>You can submit information as plain text, a <a href="https://www.misp-standard.org/rfc/misp-standard-core.html">MISP standard JSON document</a> or create topical data using templates derived from the <a href="https://www.misp-project.org/objects.html">MISP object definitions</a>.</p>
                <p><b>Supported retrieval formats</b></p>
                <p>By default, you will be receiving updates to your data in the MISP JSON format. But you can optionally also fetch the data in any of the supported formats of MISP (such as CSV, Suricata, STIX2, Nibbler).</p>
                <p><b>Updating reports</b></p>
                <p>You can always append new information using any of the supported submission formats by POSTing your new data to be shared to the endpoint you'd use for submissions, but with your token appended as a query string (?token={token})</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Token store column -->
      <div class="col-lg-4 col-md-5 col-sm-12" id="tokenstore-container"></div>
    </div>
  </div>

  <!-- Toast notification -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    <div
      id="toast"
      class="toast text-white bg-success"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    >
      <div class="toast-header bg-success text-white">
        <strong class="me-auto">Notification</strong>
        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="toast"
          aria-label="Close"
        ></button>
      </div>
      <div class="toast-body" id="toast-body">Message goes here.</div>
    </div>
  </div>

  <!-- Bootstrap JS bundle (must come after your UI scripts) -->
  <script src="js/bootstrap.bundle.min.js" defer></script>
</body>
</html>
